<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="Android逆向, 求知欲，好奇心，勇毅前行"><meta name="description" content="Android逆向Android基础知识系统架构安卓（Android）是一种基于Linux内核（不包含GNU组件）的自由及开放源代码的操作系统。主要使用于移动设备，如智能手机和平板电脑，由美国Google公司和开放手机联盟领导及开发。
an"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><title>Android逆向 | 求知欲，好奇心，勇毅前行</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" href="/libs/awesome/css/all.min.css"><link rel="stylesheet" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" href="/libs/aos/aos.css"><link rel="stylesheet" href="/libs/animate/animate.min.css"><link rel="stylesheet" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" href="/css/matery.css"><link rel="stylesheet" href="/css/my.css"><link rel="stylesheet" href="/css/dark.css" media="none" onload='"all"!=media&&(media="all")'><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><link rel="stylesheet" href="/css/post.css"><link rel="stylesheet" href="/css/reward.css"><script src="/libs/jquery/jquery-3.6.0.min.js"></script><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="求知欲，好奇心，勇毅前行" type="application/atom+xml"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><img src="/medias/logo.png" class="logo-img" alt="LOGO"> <span class="logo-span">求知欲，好奇心，勇毅前行</span></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li><li><a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式"><i id="sum-moon-icon" class="fas fa-sun" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/logo.png" class="logo-img circle responsive-img"><div class="logo-name">求知欲，好奇心，勇毅前行</div><div class="logo-desc">网安逆向</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li><div class="divider"></div></li><li><a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i>Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(/medias/featureimages/18.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">Android逆向</h1></div></div></div></div></div><main class="post-container content"><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/RE-Android/"><span class="chip bg-color">RE Android</span></a></div></div><div class="col s5 right-align"></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2024-03-18</div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h1 id="Android逆向"><a href="#Android逆向" class="headerlink" title="Android逆向"></a>Android逆向</h1><h2 id="Android基础知识"><a href="#Android基础知识" class="headerlink" title="Android基础知识"></a>Android基础知识</h2><h3 id="系统架构"><a href="#系统架构" class="headerlink" title="系统架构"></a>系统架构</h3><p>安卓（Android）是一种基于Linux内核（不包含GNU组件）的自由及开放源代码的操作系统。主要使用于移动设备，如智能手机和平板电脑，由美国Google公司和开放手机联盟领导及开发。</p><p>android框架：<img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240307112450236.png" alt="image-20240307112450236"></p><p>从下往上分别是：Linux内核层、系统运行库层（程序库+android运行库）、应用程序框架层、应用层。</p><p><strong>Linux内核层：</strong> Android 系统是基于 Linux 内核的,它提供了基本的系统功能及与硬件交互的驱动，像图中Display Driver（显示驱动）、Camera Driver（摄像头驱动）、WiFi Driver（WiFi驱动）等</p><p><strong>系统运行库层：</strong> 像图中内核的上一层就是系统运行库层，程序库（绿色部分） 和 Android运行库（黄色部分） 组成。</p><ul><li><p>Libraries（程序库）： 由 C、C++ 编写，一系列程序库的集合，供 Android 系统的各个组件使用。</p></li><li><p>Android runtime（Core Librares + Dalvik虚拟机）： 翻译过来就是 Android 运行时，Android 应用程序时采用 Java 语言编写，程序在Android运行时中执行，其运行时分为核心库 和 Dalvik虚拟机 两部分。</p></li></ul><p><strong>Application Framework（应用程序框架层）</strong>： 这一层主要是提供一些组件，搭建框架，方便app 开发人用再次基础上快速开发开发应用程序。而实际上就是一些 Android API。</p><p><strong>Applications（应用层</strong>）：顶层中有所有的 Android 应用程序，如手机中的：电话、文件管理、信息等。</p><h3 id="虚拟机"><a href="#虚拟机" class="headerlink" title="虚拟机"></a><strong>虚拟机</strong></h3><h4 id="Dalvik-虚拟机"><a href="#Dalvik-虚拟机" class="headerlink" title="Dalvik 虚拟机"></a><strong>Dalvik</strong> <strong>虚拟机</strong></h4><p>Dalvik 是 google 专门为 Android 操作系统设计的一个虚拟机，简称DVM<strong>。</strong>在 Android 4.4及以前的版本， 所有的 Android 程序都是在 Dalvik 虚拟机环境下去运行的。DVM 的指令是<strong>基于寄存器</strong>的，运行的是经过转换的 <strong>.dex****文件</strong> （.dex 是专为 Dalvik 设计的一种压缩格式，适合内存和处理器速度有限的系统），Dalvik 虚拟机每次应用运行的时候，将代码编译成机器语言执行。</p><h4 id="ART-虚拟机"><a href="#ART-虚拟机" class="headerlink" title="ART 虚拟机"></a><strong>ART</strong> <strong>虚拟机</strong></h4><p>前面说到，当我们使用手机每运行一个程序，Dalvik 虚拟机都会产生一个实例，互不影响，这就可能会出现占用资源过多等问题，随着人们日益增长的需求，Dalvik 无法满足人们对软件运行效率的需要。这是就诞生了 ART 虚拟机。</p><p>在 <strong>Android4.4</strong> <strong>及以上版本</strong>，应运而生的 ART 虚拟机替代了 Dalvik 虚拟机，其处理机制根本上的区别是它采用AOT(Ahead of TIme) 技术，<strong>会在应用程序安装时就转换成机器语言，不再在执行时解释</strong>，从而优化了应用运行的速度。在内存管理方面，ART 也有比较大的改进，对内存分配和回收都做了算法优化，降低了内存碎片化程度，回收时间也得以缩短。</p><p><strong>DVM</strong> <strong>与</strong> <strong>ART</strong> <strong>的区别：</strong> 虽说 ART 替换了 Dalvik 虚拟机，并不意味着，其应用程序开发上也要发生改变，像 android 应用程序安装包（apk）中，仍然还是可执行的 .dex 文件。</p><h3 id="Apk-编译流程"><a href="#Apk-编译流程" class="headerlink" title="Apk 编译流程"></a><strong>Apk</strong> <strong>编译流程</strong></h3><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240307124845628.png" alt="image-20240307124845628"></p><h3 id="正向开发"><a href="#正向开发" class="headerlink" title="正向开发"></a><strong>正向开发</strong></h3><p>首先我们来写一个 app，并打包成 apk。在这个过程中，我们可以接触到很多安卓逆向中会遇到的概</p><p>念。</p><p>一个 app 可以理解为由三个基本元件构成：</p><ol><li><p>AndroidManifest.xml：可以想成是 app 的配置文件</p></li><li><p>resources：各种资源，包括排版、代码中出现的字符串、图片等</p></li><li><p>代码：UI 界面及逻辑代码</p></li></ol><p>下面是一个简单的 demo，左边是项目树，右边是 AndroidManifest.xml 的內容：</p><p>从这个配置文件，我们可以知道：</p><ol><li><p>这个 app 的包名（package name）是 com.example.demo</p></li><li><p>这个 app 里有一个窗体（activity），名字为 MainActivity ，是程序入口窗体</p></li></ol><p>什么是 activity 呢？你可以把 activity 理解成是一个界面，每个程序界面对应一个 activity。假设 app是个需要注册才能使用的应用，则可能有以下界面：</p><ul><li><p>欢迎界面</p></li><li><p>注册界面</p></li><li><p>登录界面</p></li><li><p>主界面</p></li></ul><p>而这每一个界面都是一个 activity，而每一个 activity 可能都有一个 layout。在 Android 开发中，layout 其实就是一个 xml 文档，像这样：</p><p>像 layout 就属于资源文件的一种，会被放到 res 文件夹下。</p><p>上图中有两点需要注意，一是 android:id&#x3D;”@+id&#x2F;textview_first” 代表这个组件对应到一个 id。才能在代码里通过 id 拿到这个组件：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">TextView tv = (TextView) findViewById(R.id.textview_first);</span><br><span class="line"></span><br><span class="line">tv.setText(&quot;hello&quot;);</span><br></pre></td></tr></table></figure><p>第二个值得注意的地方是 android:text&#x3D;”@string&#x2F;hello_first_fragment” ，这其实就是组件会显示的文字，对应到 res&#x2F;values&#x2F;strings.xml ：</p><p>利用这样的方法，我们可以避免直接在 layout 里写死字符串，这样就可以做成支持多国语言的 app。</p><p><strong>拆包与重打包</strong></p><p>上面的程序编译成 apk 后，我们可以把它的后缀改成 .zip 直接解压，得到这样的目录结构：</p><ul><li><p>META-INF：存放签名文件</p></li><li><p>res：资源文件</p></li><li><p>AndroidManifest.xml：app 配置文件</p></li><li><p>classes.dex：Java 代码编译成 dex 文件</p></li><li><p>resources.arsc：资源文件相关的索引表</p></li></ul><p>java -jar apktool.jar d -f demo.apk</p><p>修改 res&#x2F;values&#x2F;strings.xml 里的 hello_first_fragment 为 Hacked ，再重打包：</p><p>java -jar apktool.jar b –use-aapt2 demo -o demo2.apk</p><p>此时的 apk 还无法安装，我们需要对它进行 align 和 sign 才能在手机上安装：</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">zipalign -v -p <span class="number">4</span> demo2.apk demo2-aligned.apk</span><br><span class="line"></span><br><span class="line">keytool -genkey -v -keystore my-key.jks -keyalg RSA -keysize <span class="number">2048</span> -validity</span><br><span class="line"><span class="number">10000</span> -alias my-alias</span><br><span class="line"></span><br><span class="line">apksigner sign --ks my-key.jks --ks-pass pass:<span class="number">123456</span> --out demo2-signed.apk</span><br><span class="line">demo2-aligned.apk</span><br></pre></td></tr></table></figure><h3 id="JNI"><a href="#JNI" class="headerlink" title="JNI"></a>JNI</h3><p>JNI（Java Native Interface）是一种在 Java 虚拟机中调用本地（Native）方法的机制。在 Android中，由于 Android 应用是通过 Java 语言编写的，但是某些操作系统底层的功能只能通过本地 C&#x2F;C++ 代码来实现，所以需要使用 JNI 来实现Java与本地代码的交互。</p><p>使用 JNI 可以让 Java 程序调用本地库中的函数，而本地函数可以使用标准 C&#x2F;C++ 编写。这样可以通过JNI 将 Java 程序与本地代码组合在一起。</p><h3 id="常用工具"><a href="#常用工具" class="headerlink" title="常用工具"></a><strong>常用工具</strong></h3><ul><li><p>adb</p></li><li><p>apksigner</p></li><li><p>Android killer</p></li><li><p>jadx</p></li><li><p>jeb</p></li></ul><h2 id="smali语法"><a href="#smali语法" class="headerlink" title="smali语法"></a>smali语法</h2><h3 id="Java-smali"><a href="#Java-smali" class="headerlink" title="Java -&gt; smali"></a><strong>Java -&gt; smali</strong></h3><p>smali 文件是怎么得到的呢？</p><ol><li><p>通过 javac 把 .java 编译成 .class</p></li><li><p>通过 dx 把 .class 转化为 .dex</p></li><li><p>通过 baksmali 把 .dex 转为 smali</p></li></ol><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">javac Test.java</span><br><span class="line">dx --dex --output=Test.dex Test.class</span><br><span class="line">java -jar baksmali.jar d Test.dex</span><br></pre></td></tr></table></figure><h3 id="Dalvik-寄存器"><a href="#Dalvik-寄存器" class="headerlink" title="Dalvik 寄存器"></a><strong>Dalvik</strong> <strong>寄存器</strong></h3><p>Dalvik中 的寄存器都是 32 位大小，支持所有类型。对于小于或等于 32 位类型，使用一个寄存器就可</p><p>以了，对 64 位（long 和 double) 类型，需要使用两个相邻的寄存器来存储。</p><p><strong>寄存器的命名法有两种：****V</strong> <strong>命名法和</strong> <strong>P</strong> <strong>命名法：</strong></p><p>v 命名法：局部变量寄存器 V0-Vn，参数寄存器是 Vn-V(n+m)。</p><p>p 命名法：参数寄存器 P0-Pn，变量寄存器 V0-Vn。</p><h4 id="v-命名法"><a href="#v-命名法" class="headerlink" title="v 命名法"></a><strong>v</strong> <strong>命名法</strong></h4><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308224545382.png" alt="image-20240308224545382"></p><p>v0-v2 表示的是局部变量寄存器，v3-v4 表示的参数寄存器。在例一中第一个方框里可以看到 v2 是局部寄存器， v3 是参数寄存器。在图中第二个方框里可以看到 v0 是局部寄存器，v4 是参数寄存器。</p><h4 id="p-命名法"><a href="#p-命名法" class="headerlink" title="p 命名法"></a><strong>p</strong> <strong>命名法</strong></h4><p>p 命名法针对参数寄存器进行了优化，参数寄存器的命名从 p0 开始，使得局部变量寄存器和参数寄存器得以很容易的进行区分。smali 语法中就是用了 p 命名法。我们来看下 add() 方法的 smali 代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.method <span class="keyword">public</span> <span class="title function_">add</span><span class="params">(II)</span>I</span><br><span class="line">	.registers <span class="number">4</span></span><br><span class="line">	.param p1, <span class="string">&quot;a&quot;</span> # I</span><br><span class="line">	.param p2, <span class="string">&quot;b&quot;</span> # I</span><br><span class="line">	.prologue</span><br><span class="line">	.line <span class="number">6</span></span><br><span class="line">	add-<span class="type">int</span> v0, p1, p2</span><br><span class="line">	.line <span class="number">7</span></span><br><span class="line">	.local v0, <span class="string">&quot;c&quot;</span>:I</span><br><span class="line">	<span class="keyword">return</span> v0</span><br><span class="line">.end method</span><br></pre></td></tr></table></figure><p>这样就很清晰了，4 个寄存器命名如下所示：</p><ul><li><p>v0 局部变量寄存器，存储 a+b 的值</p></li><li><p>p0 当前引用 this</p></li><li><p>p1 参数寄存器，存储 a 的值</p></li><li><p>p2 参数寄存器，存储 b 的值</p></li></ul><h3 id="Dalvik-描述符"><a href="#Dalvik-描述符" class="headerlink" title="Dalvik 描述符"></a><strong>Dalvik</strong> <strong>描述符</strong></h3><p>在更深入的了解 Dalvik 字节码前，先来看一下 Dalvik 是如何描述字段和方法的，这也有助于我们阅读smali 代码。</p><h4 id="类型描述符"><a href="#类型描述符" class="headerlink" title="类型描述符"></a><strong>类型描述符</strong></h4><p>Dalvik 字节码中只有两种类型，基本类型和引用类型。除了对象和数组以外，其他的所有 Java 类型都是基本类型。这和 JVM 的类型描述符是基本一致的。基本类型都是使用单个字母来表示。数组类型使用[ 表示。除数组以外的引用类型使用 L 加上全限定名表示。如下表所示：</p><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308224712573.png" alt="image-20240308224712573"></p><p>举一个引用类型的例子。例如 String 对象，其全限定名是 java&#x2F;lang&#x2F;String; ，在 Dalvik 中就表示为 Ljava&#x2F;lang&#x2F;String; 。对于数组，又可以分为基本类型数组和引用类型数组，其格式都是 [ 加上类型描述符。 int[] 就是 [I ， String[] 就是 [java&#x2F;lang&#x2F;String; 。多维数组就是多个 [ ，例如int[][] 就是 [[I 。</p><h4 id="字段"><a href="#字段" class="headerlink" title="字段"></a><strong>字段</strong></h4><p>Dalvik 表示字段的格式：<strong>类型（包名＋类名）＋字段名称＋字段类型</strong></p><p>例如：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Lpackage/name/ObjectName;-&gt;FieldName:Ljava/lang/String;</span><br></pre></td></tr></table></figure><p>Lpackage&#x2F;name&#x2F;ObjectName; 是当前这个字段所在的类，其中，L 是 java类类型， package&#x2F;name&#x2F;是包名， ObjectName 是类名。</p><p>FieldName 是字段名称， Ljava&#x2F;lang&#x2F;String; 是字段类型。字段名称和字段类型之间要用 : 隔</p><p>开。</p><p>其他例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Landroid/content/pm/ActivityInfo;-&gt;theme:I</span><br><span class="line">Lorg/cocos2dx/lua/AppActivity;-&gt;handler:Landroid/os/Handler;</span><br></pre></td></tr></table></figure><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a><strong>方法</strong></h4><p>Dalvik 方法的表现形式：<strong>类型（包名＋类名）＋方法名（＋参数类型）＋返回值类型</strong></p><p>例如：Lpackage&#x2F;name&#x2F;ObjectName;-&gt;MethodName (III) Z</p><p>MethodName 是方法名， (III) Z 是方法的签名信息，由方法参数列表(III)和返回值(Z)构成，(III)表示三个 int 型参数；Z 表示返回值类型为 boolean。</p><p>其他例子：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lcom/test/Test;-&gt;add(II)I</span><br><span class="line">Landroid/os/Handler;-&gt;&lt;init&gt;()V</span><br><span class="line">Landroid/app/Activity;-&gt;onCreate(Landroid/os/Bundle;)V</span><br></pre></td></tr></table></figure><h3 id="Dalvik-指令集"><a href="#Dalvik-指令集" class="headerlink" title="Dalvik 指令集"></a><strong>Dalvik</strong> <strong>指令集</strong></h3><p>参考资料：Dalvik opcodes</p><p>有了上面的知识储备之后，就可以具体的学习 Dalvik 指令集了。</p><p>Dalvik 指令格式为：<strong>基础字节码</strong> <strong>-</strong> <strong>名称后缀</strong>**&#x2F;**<strong>字节码后缀 目的寄存器 源寄存器</strong></p><p>注：连接符号 - 在有的指令里是可以不存在的</p><p>例子：<strong>move-wide&#x2F;from16 vAA,VBBBB</strong></p><p><strong>move</strong> <strong>为基础字节码</strong>：即 opcode。</p><p><strong>wide</strong> <strong>为名称后缀</strong>：标识指令操作的数据宽度为 64 位。</p><p><strong>from16</strong> <strong>为字节码后缀</strong>：标识源为一个 16 位的寄存器引用变量。</p><p><strong>vAA</strong> <strong>为目的寄存器</strong>：它始终在源的前面，取值范围为 v0~v255。</p><p><strong>vBBBB</strong> <strong>为源寄存器</strong>：取值范围为 v0~v65535。</p><p>Dalvik 指令集中大多数指令用到了寄存器作为目的操作数或源操作数，其中 A&#x2F;B&#x2F;C&#x2F;D&#x2F;E&#x2F;F&#x2F;G&#x2F;H 代表一个 4 位的数值，AA&#x2F;BB&#x2F;…&#x2F;HH 代表一个 8 位的数值，AAAA&#x2F;BBBB&#x2F;…&#x2F;HHHH 代表一个 16 位的数值。</p><p>一些常见的指令。</p><h4 id="空指令"><a href="#空指令" class="headerlink" title="空指令"></a><strong>空指令</strong></h4><p>nop 空指令，通常用于对齐</p><h4 id="数据操作指令"><a href="#数据操作指令" class="headerlink" title="数据操作指令"></a><strong>数据操作指令</strong></h4><p>数据操作指令为 move。move 指令根据字节码大小与类型不同，后面会跟上不同的后缀，表达的意义也就不同。</p><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225456588.png" alt="image-20240308225456588"></p><p>总结起来 move 指令有三种作用：</p><ul><li><p>进行赋值操作</p></li><li><p>move-result 接收返回值操作</p></li><li><p>处理异常的操作</p></li></ul><h4 id="返回指令"><a href="#返回指令" class="headerlink" title="返回指令"></a><strong>返回指令</strong></h4><p>返回指令即 return 指令，指的是函数结尾时运行的最后一条指令。共有以下四条返回指令：</p><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225608978.png" alt="image-20240308225608978"></p><h4 id="数据定义指令"><a href="#数据定义指令" class="headerlink" title="数据定义指令"></a><strong>数据定义指令</strong></h4><p>数据定义指令用来定义程序中用到的常量，字符串，类等数据。它的基础字节码为 const</p><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225624563.png" alt="image-20240308225624563"></p><h4 id="类型判断指令"><a href="#类型判断指令" class="headerlink" title="类型判断指令"></a><strong>类型判断指令</strong></h4><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225636083.png" alt="image-20240308225636083"></p><h4 id="数组操作指令"><a href="#数组操作指令" class="headerlink" title="数组操作指令"></a><strong>数组操作指令</strong></h4><p>数组操作包括获取数组长度，新建数组，数组赋值，数组元素取值与赋值等操作。</p><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225648985.png" alt="image-20240308225648985"></p><p><strong>异常指令</strong></p><p>Dalvik 指令集有一条指令用来抛出异常：</p><p>throw vAA 抛出 vAA 寄存器指定的异常</p><h4 id="跳转指令"><a href="#跳转指令" class="headerlink" title="跳转指令"></a><strong>跳转指令</strong></h4><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225717003.png" alt="image-20240308225717003"></p><h4 id="比较指令"><a href="#比较指令" class="headerlink" title="比较指令"></a><strong>比较指令</strong></h4><p>比较指令用于对两个寄存器的值（浮点型或长整型）进行比较。</p><ul><li><p>大于(1)&#x2F;等于(0)&#x2F;小于(-1)&#x3D;&gt;cmpg、cmp</p></li><li><p>大于(-1)&#x2F;等于(0)&#x2F;小于(1)&#x3D;&gt;cmpl</p></li></ul><p>指令如下：</p><ul><li><p><strong>cmp-long vAA, vBB, vCC</strong> <strong>：</strong>比较两个长整型数。如果vBB寄存器大于vCC寄存器，则结果为1，相等则结果为0，小于则结果为-1。</p></li><li><p><strong>cmpl-float vAA, vBB, vCC****：</strong>比较两个单精度浮点数。如果vBB寄存器大于vCC寄存器，结果为-1，相等则结果为0，小于的话结果为1。</p></li><li><p><strong>cmpl-double vAA, vBB, vCC****：</strong>比较两个双精度浮点数。如果vBB寄存器大于vCC寄存器，结果为-1，相等则结果为0，小于的话结果为1。</p></li><li><p><strong>cmpg-float vAA, vBB, vCC****：</strong>比较两个单精度浮点数。如果vBB寄存器大于vCC寄存器，结果为1，相等则结果为0，小于的话结果为-1。</p></li><li><p><strong>cmpg-double vAA, vBB, vCC****：</strong>比较两个双精度浮点数。如果vBB寄存器大于vCC寄存器，结果为1，相等则结果为0，小于的话结果为-1。</p></li></ul><h4 id="字段操作指令"><a href="#字段操作指令" class="headerlink" title="字段操作指令"></a><strong>字段操作指令</strong></h4><p>字段操作指令用来对对象实例的字段进入读写操作。字段的类型可以是 Java 中有效的数据类型，对普</p><p>通字段与静态字段操作有两中指令集。</p><ul><li><p>普通字段 &#x3D;&gt; iget读 &#x2F; iput 写</p></li><li><p>静态字段 &#x3D;&gt; sget读 &#x2F; sput 写</p></li></ul><h5 id="普通字段"><a href="#普通字段" class="headerlink" title="普通字段"></a><strong>普通字段</strong></h5><p>iinstanceop vA, vB,field@CCCC</p><p>对已标识的字段执行已确定的对象实例字段运算，并将结果加载或存储到值寄存器中</p><p>针对不同类型的普通字段，有如下指令：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iget、iget-wide、iget-object、iget-<span class="type">boolean</span>、iget-<span class="type">byte</span>、iget-<span class="type">char</span>、iget-<span class="type">short</span></span><br><span class="line">iput、iput-wide、iput-object、iput-<span class="type">boolean</span>、iput-<span class="type">byte</span>、iput-<span class="type">char</span>、iput-<span class="type">short</span></span><br></pre></td></tr></table></figure><h5 id="静态字段"><a href="#静态字段" class="headerlink" title="静态字段"></a><strong>静态字段</strong></h5><p>sstaticop vAA,field@BBBB</p><p>对已标识的静态字段执行已确定的对象静态字段运算，并将结果加载或存储到值寄存器中</p><p>针对不同类型的静态字段，有如下指令：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sget、sget-wide、sget-object、sget-<span class="type">boolean</span>、sget-<span class="type">byte</span>、sget-<span class="type">char</span>、sget-<span class="type">short</span></span><br><span class="line">sput、sput-wide、sput-object、sput-<span class="type">boolean</span>、sput-<span class="type">byte</span>、sput-<span class="type">char</span>、sput-<span class="type">short</span></span><br></pre></td></tr></table></figure><h4 id="方法调用指令"><a href="#方法调用指令" class="headerlink" title="方法调用指令"></a><strong>方法调用指令</strong></h4><p>方法调用指令的格式为 invoke-kind {vC, vD, vE, vF, vG}, meth@BBBB , 具体的有如下指令：</p><p><img src="C:\Users\17687\AppData\Roaming\Typora\typora-user-images\image-20240308225931362.png" alt="image-20240308225931362"></p><p><strong>数据转换指令</strong></p><p>数据转换指令用于将一种类型的数值转换成另一种类型。它的格式为“opcode vA, vB”，vB寄存器存放需</p><p>要转换的数据，转换后的结果保存在vA寄存器中。</p><p>常见的数据转换指令：</p><ul><li><p>**neg-**<strong>数据类型</strong>：求补</p></li><li><p>**not-**<strong>数据类型</strong>：求反</p></li><li><p>*<em>数据类型</em>***1-to-<strong><strong>数据类型</strong></strong>2**：将数据类型1转换为数据类型2</p></li></ul><h4 id="数据运算指令"><a href="#数据运算指令" class="headerlink" title="数据运算指令"></a><strong>数据运算指令</strong></h4><p>数据运算指令包括算术运算指令与逻辑运算指令。算术运算指令主要进行数值间如加、减、乘、除、</p><p>模、移位等运算，逻辑运算主要进行数值间与、或、非、异或等运算。</p><p>常见的数据运算指令：</p><ul><li><p><strong>add&#x2F;sub&#x2F;mul&#x2F;div&#x2F;rem</strong>：加&#x2F;减&#x2F;乘&#x2F;除&#x2F;模</p></li><li><p><strong>and&#x2F;or&#x2F;xor</strong>：与&#x2F;或&#x2F;异或</p></li><li><p><strong>shl&#x2F;shr&#x2F;ushr</strong>：有符号左移&#x2F;有符号右移&#x2F;无符号右移</p></li></ul><h3 id="示例分析"><a href="#示例分析" class="headerlink" title="示例分析"></a><strong>示例分析</strong></h3><p>通过<strong>演示</strong>，让我们来看看下面的这个 Java 程序在 smali 层面是怎样实现的：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">HELLO_WORLD</span> <span class="operator">=</span> <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">		System.out.println(HELLO_WORLD);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>adb shell dumpsys activity top</p><p>adb shell am start -D -n 包名&#x2F;.ui.login.LoginActivity</p><p>nkctf9233bg</p></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: </i></span><span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">W3nL0u</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://github.com/xyy9233/xyy9233.github.io.git/2024/03/18/android-ni-xiang/">https://github.com/xyy9233/xyy9233.github.io.git/2024/03/18/android-ni-xiang/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">W3nL0u</a> !</span></div></div><script async defer>function navToReprintStatement(){$("html, body").animate({scrollTop:$("#reprint-statement").offset().top-80},800)}document.addEventListener("copy",function(t){M.toast({html:'<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>'})})</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/RE-Android/"><span class="chip bg-color">RE Android</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="/libs/share/js/social-share.min.js"></script></div></div></div><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/2024/03/25/polarctf2024-chun/"><div class="card-image"><img src="/medias/featureimages/5.jpg" class="responsive-img" alt="PolarCTF"> <span class="card-title">PolarCTF</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2024-03-25 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> W3nL0u</span></div></div><div class="card-action article-tags"><a href="/tags/CTF/"><span class="chip bg-color">CTF</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2024/03/15/pearlctf/"><div class="card-image"><img src="/medias/featureimages/1.jpg" class="responsive-img" alt="PearlCTF"> <span class="card-title">PearlCTF</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2024-03-15 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> W3nL0u</span></div></div><div class="card-action article-tags"><a href="/tags/CTF/"><span class="chip bg-color">CTF</span></a></div></div></div></div></article></div><script src="/libs/codeBlock/codeBlockFuction.js"></script><script src="/libs/codeBlock/codeLang.js"></script><script src="/libs/codeBlock/codeCopy.js"></script><script src="/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function(){tocbot.init({tocSelector:"#toc-content",contentSelector:"#articleContent",headingsOffset:-(.4*$(window).height()-45),collapseDepth:Number("0"),headingSelector:"h2, h3, h4"});let t=parseInt(.4*$(window).height()-64),e=$(".toc-widget"),n=($(window).scroll(function(){$(window).scrollTop()>t?e.addClass("toc-fixed"):e.removeClass("toc-fixed")}),"expanded"),i=$("#toc-aside"),l=$("#main-content");$("#floating-toc-btn .btn-floating").click(function(){i.hasClass(n)?(i.removeClass(n).hide(),l.removeClass("l9")):(i.addClass(n).show(),l.addClass("l9"));var e="artDetail",o="prenext-posts";if(0!==(e=$("#"+e)).length){let t=e.width();450<=t?t+=21:350<=t&&t<450?t+=18:300<=t&&t<350?t+=16:t+=14,$("#"+o).width(t)}})})</script></main><footer class="page-footer bg-color"><link rel="stylesheet" href="/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{display:none;font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{display:none;font-size:15px;color:#42b983}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div class="row"><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="503838841" fixed="true" autoplay theme="#42b983" loop order="random" preload="auto" volume="0.7" list-folded="true"></meting-js></div></div><script src="/libs/aplayer/APlayer.min.js"></script><script src="/libs/aplayer/Meting.min.js"></script><div class="container row center-align" style="margin-bottom:0!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2023-2024</span> <a href="/about" target="_blank">W3nL0u</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br><span id="busuanzi_container_site_pv">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp; <span id="busuanzi_value_site_pv" class="white-color"></span> </span><span id="busuanzi_container_site_uv">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp; <span id="busuanzi_value_site_uv" class="white-color"></span></span><br><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/blinkfox" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i> </a><a href="mailto:1768765226@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i> </a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1181062873" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1181062873" data-position="top" data-delay="50"><i class="fab fa-qq"></i> </a><a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50"><i class="fas fa-rss"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script>$(function(){var e,r,s;e="/search.xml",r="searchInput",s="searchResult",$.ajax({url:e,dataType:"xml",success:function(e){var t=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),e=document.getElementById(r),n=document.getElementById(s);e.addEventListener("input",function(){var o='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length<=0||(t.forEach(function(e){var n,t,r,s=!0,a=e.title.trim().toLowerCase(),l=e.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),i=0===(i=e.url).indexOf("/")?e.url:"/"+i,c=-1,u=-1;""!==a&&""!==l&&h.forEach(function(e,t){n=a.indexOf(e),c=l.indexOf(e),n<0&&c<0?s=!1:(c<0&&(c=0),0===t&&(u=c))}),s&&(o+="<li><a href='"+i+"' class='search-result-title'>"+a+"</a>",i=e.content.trim().replace(/<[^>]+>/g,""),0<=u&&(e=u+80,(e=0===(t=(t=u-20)<0?0:t)?100:e)>i.length&&(e=i.length),r=i.substr(t,e),h.forEach(function(e){var t=new RegExp(e,"gi");r=r.replace(t,'<em class="search-keyword">'+e+"</em>")}),o+='<p class="search-result">'+r+"...</p>"),o+="</li>")}),o+="</ul>",n.innerHTML=o)})}})})</script><div class="stars-con"><div id="stars"></div><div id="stars2"></div><div id="stars3"></div></div><script>function switchNightMode(){$('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($("body")),setTimeout(function(){$("body").hasClass("DarkMode")?($("body").removeClass("DarkMode"),localStorage.setItem("isDark","0"),$("#sum-moon-icon").removeClass("fa-sun").addClass("fa-moon")):($("body").addClass("DarkMode"),localStorage.setItem("isDark","1"),$("#sum-moon-icon").addClass("fa-sun").removeClass("fa-moon")),setTimeout(function(){$(".Cuteen_DarkSky").fadeOut(1e3,function(){$(this).remove()})},2e3)})}</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button><script>(()=>{var t=document.createElement("script"),e=window.location.protocol.split(":")[0];t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",(e=document.getElementsByTagName("script")[0]).parentNode.insertBefore(t,e)})()</script><script src="/libs/others/clicklove.js" async></script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script src="/libs/instantpage/instantpage.js" type="module"></script></body></html>