var searchFunc=function(t,e,r){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var a=$("entry",t).map((function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}})).get();var i=document.getElementById(e);var n=document.getElementById(r);i.addEventListener("input",(function(){var t='<ul class="search-result-list">';var e=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="";if(this.value.trim().length<=0){return}var r=1;a.forEach((function(a){var i=true;var n=[];var s=a.title.trim().toLowerCase();var c=a.content.trim().replace(/<[^>]+>/g,"").toLowerCase();var l=a.url;var u=-1;var o=-1;var f=-1;if(s!=""&&c!=""){e.forEach((function(t,e){u=s.indexOf(t);o=c.indexOf(t);if(u<0&&o<0){i=false}else{if(o<0){o=0}if(e==0){f=o}}}))}if(i){t+="<li><a href='"+l+"' class='search-result-title'>"+String(r)+". "+s+"</a>";r+=1;var v=a.content.trim().replace(/<[^>]+>/g,"");if(f>=0){var h=f-20;if(h<0){h=0}var m=v.substr(h,100);e.forEach((function(t){var e=new RegExp(t,"gi");m=m.replace(e,'<em class="search-keyword">'+t+"</em>")}));t+='<p class="search-result">'+m+"...</p>"}t+="</li>"}}));t+="</ul>";t='<p class="search-result-summary">共找到'+String(r-1)+"条结果</p>"+t;n.innerHTML=t}))}})};