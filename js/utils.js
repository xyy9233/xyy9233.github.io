const btf={debounce:function(t,e,n){let o;return function(){const i=this;const a=arguments;const s=function(){o=null;if(!n)t.apply(i,a)};const l=n&&!o;clearTimeout(o);o=setTimeout(s,e);if(l)t.apply(i,a)}},throttle:function(t,e,n){let o,i,a;let s=0;if(!n)n={};const l=function(){s=n.leading===false?0:(new Date).getTime();o=null;t.apply(i,a);if(!o)i=a=null};const r=function(){const r=(new Date).getTime();if(!s&&n.leading===false)s=r;const c=e-(r-s);i=this;a=arguments;if(c<=0||c>e){if(o){clearTimeout(o);o=null}s=r;t.apply(i,a);if(!o)i=a=null}else if(!o&&n.trailing!==false){o=setTimeout(l,c)}};return r},sidebarPaddingR:()=>{const t=window.innerWidth;const e=document.body.clientWidth;const n=t-e;if(t!==e){document.body.style.paddingRight=n+"px"}},snackbarShow:(t,e=false,n=2e3)=>{const{position:o,bgLight:i,bgDark:a}=GLOBAL_CONFIG.Snackbar;const s=document.documentElement.getAttribute("data-theme")==="light"?i:a;Snackbar.show({text:t,backgroundColor:s,showAction:e,duration:n,pos:o,customClass:"snackbar-css"})},diffDate:(t,e=false)=>{const n=new Date;const o=new Date(t);const i=n.getTime()-o.getTime();const a=1e3*60;const s=a*60;const l=s*24;const r=l*30;let c;if(e){const t=i/r;const e=i/l;const n=i/s;const f=i/a;if(t>12){c=o.toLocaleDateString().replace(/\//g,"-")}else if(t>=1){c=parseInt(t)+" "+GLOBAL_CONFIG.date_suffix.month}else if(e>=1){c=parseInt(e)+" "+GLOBAL_CONFIG.date_suffix.day}else if(n>=1){c=parseInt(n)+" "+GLOBAL_CONFIG.date_suffix.hour}else if(f>=1){c=parseInt(f)+" "+GLOBAL_CONFIG.date_suffix.min}else{c=GLOBAL_CONFIG.date_suffix.just}}else{c=parseInt(i/l)}return c},loadComment:(t,e)=>{if("IntersectionObserver"in window){const n=new IntersectionObserver((t=>{if(t[0].isIntersecting){e();n.disconnect()}}),{threshold:[0]});n.observe(t)}else{e()}},scrollToDest:(t,e=500)=>{const n=window.pageYOffset;if(n>t)t=t-70;if("scrollBehavior"in document.documentElement.style){window.scrollTo({top:t,behavior:"smooth"});return}let o=null;t=+t;window.requestAnimationFrame((function i(a){o=!o?a:o;const s=a-o;if(n<t){window.scrollTo(0,(t-n)*s/e+n)}else{window.scrollTo(0,n-(n-t)*s/e)}if(s<e){window.requestAnimationFrame(i)}else{window.scrollTo(0,t)}}))},animateIn:(t,e)=>{t.style.display="block";t.style.animation=e},animateOut:(t,e)=>{t.addEventListener("animationend",(function e(){t.style.display="";t.style.animation="";t.removeEventListener("animationend",e)}));t.style.animation=e},getParents:(t,e)=>{for(;t&&t!==document;t=t.parentNode){if(t.matches(e))return t}return null},siblings:(t,e)=>[...t.parentNode.children].filter((n=>{if(e){return n!==t&&n.matches(e)}return n!==t})),wrap:(t,e,n)=>{const o=document.createElement(e);for(const[t,e]of Object.entries(n)){o.setAttribute(t,e)}t.parentNode.insertBefore(o,t);o.appendChild(t)},unwrap:t=>{const e=t.parentNode;if(e!==document.body){e.parentNode.insertBefore(t,e);e.parentNode.removeChild(e)}},isHidden:t=>t.offsetHeight===0&&t.offsetWidth===0,getEleTop:t=>{let e=t.offsetTop;let n=t.offsetParent;while(n!==null){e+=n.offsetTop;n=n.offsetParent}return e},loadLightbox:t=>{const e=GLOBAL_CONFIG.lightbox;if(e==="mediumZoom"){const e=mediumZoom(t);e.on("open",(t=>{const n=document.documentElement.getAttribute("data-theme")==="dark"?"#121212":"#fff";e.update({background:n})}))}if(e==="fancybox"){t.forEach((t=>{if(t.parentNode.tagName!=="A"){const e=t.dataset.lazySrc||t.src;const n=t.title||t.alt||"";btf.wrap(t,"a",{href:e,"data-fancybox":"gallery","data-caption":n,"data-thumb":e})}}));if(!window.fancyboxRun){Fancybox.bind("[data-fancybox]",{Hash:false,Thumbs:{autoStart:false}});window.fancyboxRun=true}}},initJustifiedGallery:function(t){t.forEach((function(t){if(!btf.isHidden(t)){fjGallery(t,{itemSelector:".fj-gallery-item",rowHeight:220,gutter:4,onJustify:function(){this.$container.style.opacity="1"}})}}))},updateAnchor:t=>{if(t!==window.location.hash){if(!t)t=location.pathname;const e=GLOBAL_CONFIG_SITE.title;window.history.replaceState({url:location.href,title:e},e,t)}}};